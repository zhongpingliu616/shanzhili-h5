import{d as a,H as e,L as s,p as t,J as l,c as n,w as c,e as u,o,f as i,g as d,a as m,t as p,z as r,j as f,F as _,k as v,b as y,I as b,l as k,h as g,G as h,N as x,O as C,P as I}from"./index-g2nEf0DG.js";import{_ as j}from"./_plugin-vue_export-helper.BCo6x5W8.js";const U=j(a({__name:"mey",setup(a){const j=e(),{userInfo:U}=s(j),F=[100,300,500,1e3,3e3,5e3],T=t(100),V=t(""),w=t(!1),z=t(1),N=[{type:1,name:"银行卡支付",icon:"/static/card1.png"},{type:2,name:"微信支付",icon:"/static/sharemenu/wechatfriend.png"},{type:3,name:"支付宝支付",icon:"/static/zh.png"},{type:4,name:"USDT支付",icon:"/static/qianbao.png"}];async function q(){const a=w.value?V.value:T.value;if(!a||Number(a)<=0)return h({title:"请输入有效充值金额",icon:"none"});try{x({title:"创建订单中..."}),setTimeout(()=>{C(),h({title:"充值申请已提交",icon:"success"}),j.loadUserInfo(!0),setTimeout(()=>I(),1500)},1e3)}catch{C(),h({title:"网络错误",icon:"none"})}}return l(()=>{j.loadUserInfo()}),(a,e)=>{const s=d,t=u,l=b,h=k;return o(),n(t,{class:"page"},{default:c(()=>[i(t,{class:"balance-card"},{default:c(()=>[i(s,{class:"label"},{default:c(()=>[m("当前余额 (元)")]),_:1}),i(s,{class:"balance"},{default:c(()=>[m(p(r(U).money||"0.00"),1)]),_:1})]),_:1}),i(t,{class:"amount-section"},{default:c(()=>[i(s,{class:"section-title"},{default:c(()=>[m("充值金额")]),_:1}),i(t,{class:"amount-grid"},{default:c(()=>[(o(),f(_,null,v(F,(a,e)=>i(t,{class:y(["amount-item",{active:T.value===a}]),key:e,onClick:e=>{return s=a,T.value=s,V.value="",void(w.value=!1);var s}},{default:c(()=>[i(s,{class:"amount-text"},{default:c(()=>[m(p(a)+"元",1)]),_:2},1024)]),_:2},1032,["class","onClick"])),64)),i(t,{class:y(["amount-item input-item",{active:w.value}])},{default:c(()=>[i(l,{modelValue:V.value,"onUpdate:modelValue":e[0]||(e[0]=a=>V.value=a),type:"number",placeholder:"自定义金额",class:"custom-input",onFocus:e[1]||(e[1]=a=>{w.value=!0,T.value=0})},null,8,["modelValue"])]),_:1},8,["class"])]),_:1})]),_:1}),i(t,{class:"payment-section"},{default:c(()=>[i(s,{class:"section-title"},{default:c(()=>[m("支付方式")]),_:1}),i(t,{class:"payment-list"},{default:c(()=>[(o(),f(_,null,v(N,(a,e)=>i(t,{class:"payment-item",key:e,onClick:e=>z.value=a.type},{default:c(()=>[i(t,{class:"payment-left"},{default:c(()=>[i(h,{src:a.icon,mode:"aspectFit",class:"pay-icon"},null,8,["src"]),i(s,{class:"pay-name"},{default:c(()=>[m(p(a.name),1)]),_:2},1024)]),_:2},1024),i(t,{class:y(["radio",{checked:z.value===a.type}])},{default:c(()=>[z.value===a.type?(o(),n(t,{key:0,class:"radio-inner"})):g("",!0)]),_:2},1032,["class"])]),_:2},1032,["onClick"])),64))]),_:1})]),_:1}),i(t,{class:"submit-btn",onClick:q},{default:c(()=>[i(s,{class:"btn-text"},{default:c(()=>[m("立即充值")]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-67e0d9a4"]]);export{U as default};
