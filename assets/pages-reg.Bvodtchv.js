import{d as e,J as a,c as s,w as l,e as o,o as t,f as n,l as u,a as d,I as c,i,K as r,A as p,D as m,E as g}from"./index-f0bAgXz3.js";import{_ as w}from"./logo.BmzTC4Q0.js";import{u as f}from"./index.lyeXM0Yo.js";import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";const h="/static/mm.png",V=_(e({__name:"reg",setup(e){const _=a({account:"",password:"",password2:"",realname:"",pid:""});function V(){r({url:"/pages/login"})}async function x(){if(!_.account||_.account.length<11)return p({title:"请输入正确的手机号",icon:"none"});if(!_.password||_.password.length<6)return p({title:"密码至少6位",icon:"none"});if(_.password!==_.password2)return p({title:"两次密码不一致",icon:"none"});m({title:"注册中...",mask:!0});try{const e=await f.register(_);g(),p({title:e.msg,icon:"none"}),1===e.code&&setTimeout(()=>r({url:"/pages/login"}),1500)}catch(e){g()}}return(e,a)=>{const r=u,p=o,m=c,g=i;return t(),s(p,{class:"login-page"},{default:l(()=>[n(r,{class:"logo-img",src:w,mode:"widthFix"}),n(r,{class:"logo-name",src:"/static/szl.png",mode:"widthFix"}),n(p,{class:"page-center"},{default:l(()=>[n(p,{class:"logo-tips"},{default:l(()=>[d("注册")]),_:1}),n(p,{class:"input-box"},{default:l(()=>[n(p,{class:"input-row"},{default:l(()=>[n(r,{class:"input-icon",src:"/static/zh.png",mode:"widthFix"}),n(m,{class:"u-input",modelValue:_.account,"onUpdate:modelValue":a[0]||(a[0]=e=>_.account=e),maxlength:"11",type:"number",placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1}),n(p,{class:"input-row"},{default:l(()=>[n(r,{class:"input-icon",src:h,mode:"widthFix"}),n(m,{class:"u-input",modelValue:_.password,"onUpdate:modelValue":a[1]||(a[1]=e=>_.password=e),type:"password",placeholder:"请输入登录密码"},null,8,["modelValue"])]),_:1}),n(p,{class:"input-row"},{default:l(()=>[n(r,{class:"input-icon",src:h,mode:"widthFix"}),n(m,{class:"u-input",modelValue:_.password2,"onUpdate:modelValue":a[2]||(a[2]=e=>_.password2=e),type:"password",placeholder:"请确认登录密码"},null,8,["modelValue"])]),_:1}),n(p,{class:"input-row"},{default:l(()=>[n(m,{class:"u-input",modelValue:_.realname,"onUpdate:modelValue":a[3]||(a[3]=e=>_.realname=e),placeholder:"请输入真实姓名"},null,8,["modelValue"])]),_:1}),n(p,{class:"input-row"},{default:l(()=>[n(m,{class:"u-input",modelValue:_.pid,"onUpdate:modelValue":a[4]||(a[4]=e=>_.pid=e),type:"number",placeholder:"请输入邀请码（选填）"},null,8,["modelValue"])]),_:1})]),_:1}),n(g,{class:"login-btn",onClick:x},{default:l(()=>[d("注册")]),_:1}),n(p,{class:"reg-entry"},{default:l(()=>[n(p,{class:"reg-btn",onClick:V},{default:l(()=>[d("已有账号？去登录")]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-2d05e1e6"]]);export{V as default};
