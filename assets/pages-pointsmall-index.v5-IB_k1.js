import{d as s,H as a,L as e,p as t,J as o,c as l,w as i,e as n,v as c,x as d,o as u,f as p,l as m,g as r,a as f,t as g,z as _,j as h,F as x,k as b,E as j,M as k,G as I}from"./index-g2nEf0DG.js";import{S as v,c as F}from"./custom-tabbar.DSuDH4kT.js";import{_ as z}from"./gold-coin-icon.-hroadw7.js";import{_ as L}from"./_plugin-vue_export-helper.BCo6x5W8.js";const w="/shanzhili-h5/assets/gold-coin-img-DadNFhV4.png",y=L(s({__name:"index",setup(s){const L=a(),{userInfo:y}=e(L),C=t([{id:1,name:"供销中国定制水杯",points:500,image:w},{id:2,name:"有机大米 5kg",points:1200,image:w},{id:3,name:"家用电饭煲",points:3500,image:w},{id:4,name:"品牌洗衣液",points:800,image:w},{id:5,name:"纯棉毛巾套装",points:600,image:w},{id:6,name:"多功能料理机",points:4500,image:w}]);return o(()=>{L.isLoggedIn&&L.loadUserInfo()}),(s,a)=>{const e=m,t=r,o=n,w=c(d("SzlIconFont"),v),S=c(d("custom-tabbar"),F);return u(),l(o,{class:"mall-page"},{default:i(()=>[p(o,{class:"points-header"},{default:i(()=>[p(o,{class:"points-info"},{default:i(()=>[p(o,{class:"points-row"},{default:i(()=>[p(e,{src:z,mode:"aspectFit",class:"coin-icon"}),p(t,{class:"points-num"},{default:i(()=>[f(g(_(y).points||0),1)]),_:1})]),_:1}),p(t,{class:"points-label"},{default:i(()=>[f("我的积分")]),_:1})]),_:1}),p(o,{class:"points-btn",onClick:a[0]||(a[0]=s=>{j({url:"/pages/auser/mey/pointsLis"})})},{default:i(()=>[p(t,null,{default:i(()=>[f("积分明细")]),_:1}),p(w,{code:"",color:"#fff",size:"24rpx"})]),_:1})]),_:1}),p(o,{class:"mall-content"},{default:i(()=>[p(o,{class:"section-title"},{default:i(()=>[p(t,{class:"title-text"},{default:i(()=>[f("热门兑换")]),_:1}),p(t,{class:"sub-title"},{default:i(()=>[f("积分当钱花 好礼兑回家")]),_:1})]),_:1}),p(o,{class:"goods-grid"},{default:i(()=>[(u(!0),h(x,null,b(_(C),(s,a)=>(u(),l(o,{class:"goods-item",key:a,onClick:a=>function(s){if(!L.isLoggedIn)return j({url:"/pages/login"});k({title:"确认兑换",content:`确定使用 ${s.points} 积分兑换 ${s.name} 吗？`,success:a=>{a.confirm&&((y.value.points||0)<s.points?I({title:"积分不足",icon:"none"}):I({title:"兑换申请提交成功",icon:"success"}))}})}(s)},{default:i(()=>[p(e,{src:s.image,mode:"aspectFill",class:"goods-img"},null,8,["src"]),p(o,{class:"goods-info"},{default:i(()=>[p(t,{class:"goods-name"},{default:i(()=>[f(g(s.name),1)]),_:2},1024),p(o,{class:"goods-price-row"},{default:i(()=>[p(t,{class:"price-num"},{default:i(()=>[f(g(s.points),1)]),_:2},1024),p(t,{class:"price-unit"},{default:i(()=>[f("积分")]),_:1})]),_:2},1024),p(o,{class:"exchange-btn"},{default:i(()=>[f("立即兑换")]),_:1})]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),p(o,{style:{height:"120rpx"}}),p(S,{active:1})]),_:1})}}}),[["__scopeId","data-v-55275729"]]);export{y as default};
