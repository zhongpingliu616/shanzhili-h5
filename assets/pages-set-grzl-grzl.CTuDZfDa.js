import{d as a,H as s,L as e,J as l,c as t,w as c,e as u,o as n,f as o,g as i,a as f,l as r,z as d,t as _,W as m,N as p,O as g,G as v,M as h}from"./index-DwqK-Ja6.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";const k=b(a({__name:"grzl",setup(a){const b=s(),{userInfo:k}=e(b);function w(){m({count:1,success:a=>{p({title:"上传中"}),setTimeout(()=>{k.value.avatar=a.tempFilePaths[0],b.setUserInfo(k.value),g(),v({title:"修改成功",icon:"success"})},1e3)}})}function x(a){h({title:"修改"+("nickname"===a?"昵称":"微信号"),editable:!0,placeholderText:"请输入新内容",success:s=>{s.confirm&&s.content&&(k.value[a]=s.content,b.setUserInfo(k.value),v({title:"修改成功",icon:"success"}))}})}function I(){h({title:"提示",content:"确定退出登录吗？",success:a=>{a.confirm&&b.logout()}})}return l(()=>{b.loadUserInfo()}),(a,s)=>{const e=i,l=r,m=u;return n(),t(m,{class:"page"},{default:c(()=>[o(m,{class:"menu-list"},{default:c(()=>[o(m,{class:"menu-item avatar-item",onClick:w},{default:c(()=>[o(e,{class:"label"},{default:c(()=>[f("头像")]),_:1}),o(m,{class:"right"},{default:c(()=>[o(l,{src:d(k).avatar||"/static/logo.png",mode:"aspectFill",class:"avatar"},null,8,["src"]),o(e,{class:"arrow"},{default:c(()=>[f("›")]),_:1})]),_:1})]),_:1}),o(m,{class:"menu-item",onClick:s[0]||(s[0]=a=>x("nickname"))},{default:c(()=>[o(e,{class:"label"},{default:c(()=>[f("昵称")]),_:1}),o(m,{class:"right"},{default:c(()=>[o(e,{class:"value"},{default:c(()=>[f(_(d(k).nickname||"未设置"),1)]),_:1}),o(e,{class:"arrow"},{default:c(()=>[f("›")]),_:1})]),_:1})]),_:1}),o(m,{class:"menu-item"},{default:c(()=>[o(e,{class:"label"},{default:c(()=>[f("手机号")]),_:1}),o(m,{class:"right"},{default:c(()=>[o(e,{class:"value"},{default:c(()=>[f(_(d(k).phone||"--"),1)]),_:1})]),_:1})]),_:1}),o(m,{class:"menu-item",onClick:s[1]||(s[1]=a=>x("wechat"))},{default:c(()=>[o(e,{class:"label"},{default:c(()=>[f("微信号")]),_:1}),o(m,{class:"right"},{default:c(()=>[o(e,{class:"value"},{default:c(()=>[f(_(d(k).wechat||"未绑定"),1)]),_:1}),o(e,{class:"arrow"},{default:c(()=>[f("›")]),_:1})]),_:1})]),_:1})]),_:1}),o(m,{class:"logout-btn",onClick:I},{default:c(()=>[o(e,{class:"logout-text"},{default:c(()=>[f("退出登录")]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-0da8eb7e"]]);export{k as default};
